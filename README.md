# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Шереметьев Аким Русланович`

### Задание 1

1. Устройство активного master-сервера и пассивного репликационного slave-сервера выражено в том, что мастер выполняет все операции: как запись, так и чтение. Репликационный слейв-сервер просто находится в резерве, то есть синхронизируется с мастером, копирует вносимые данные, но не занимается обслуживанием запросов на то же самое чтение. 

Из самых очевидных преимуществ можно выделить отказоустойчивость, так как в случае с выходом из строя мастера, слейв-сервер может сразу же включиться в работу без потери данных благодаря резервному копированию. Данный метод относительно прост в реализации, потому что не требует разрешения конфликтов между данными, так как слейв пассивен. В случае с повышенной нагрузкой на мастер, можно всегда переключить в слейва в активный режим, чтобы он занялся обработкой запросов на чтение, контролируя наплыв запросов на систему.


2. В случае с master-сервером и несколько slave-серверами несколько по-другому: мастер обрабатывает все запросы на изменение данных (запись, удаление, обновление), а слейв-сервера обслуживают запросы на чтение данных и их резервное копирование. 

Данный метод будет нам полезен, если мы хотим, например, оптимизировать нагрузку: если несколько слейвов будут заниматься чтением данные, то это существенно снизит нагрузку на мастер-сервер, а так как мы имеем несколько слейвов, то скорость чтения тоже должна повыситься и данные будут доступны большему количеству пользователей. Несколько слейв-серверов также способствуют отказоустойчивости: если один слейв выходит из строя, другие продолжают работу. Помимо обслуживания запросов на чтение, слейв-сервера можно использовать для аналитики данных или тестирования, не нагружая мастер. 

### Задание 2

#### План для выполнения горизонтального и вертикального шаринга базы данных

Горизонтальное шардирование подразумевает разделение таблицы на несколько меньших таблиц, где каждая таблица имеет такое же количество столбцов, но меньшее количество строк. Разделение происходит по диапазону ключей или по логике разделения (например, таблицу с пользователями можно разбить по регионам). 

Вертикальное шардирование разделяет таблицу по столбцам, где каждая таблица содержит одинаковое количество строк, но меньшее количество столбцов. В нашем случае мы можем разделить таблицы по приоритетности данных. Например, мастер-сервер содержит наиболее часто читаемые пользователями информацию о книгах (автор, название), а остальные данные будут на слейвах.

По итогу имеем разграничение в следующем виде: таблица с пользователями и магазинам будет разделяться горизонтально по регионам, таблица с книгами будет разделяться вертикально, где мастер будет содержать основные важные данные (например, название и автора), а менее важные данные на других шардах.

Блок-схема выглядит следующим образом:

![Screen1](/img/scheme.png)


